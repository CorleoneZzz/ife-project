<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Select</title>
</head>
<body>
<select id="year-select" onchange="checkValue()"></select>

<p id="result-wrapper"></p>
<script>
    function checkValue() {
        var index = document.getElementById("year-select").selectedIndex;
        var value = document.getElementById("year-select").options[index].value;
        console.log(value)
        return value
    }

    selectYear();

    function selectYear() {
        for (let i = 2018; i <= 2020; i++) {
            var node = document.createElement("option");
            var nodes = document.createTextNode(i);
            node.appendChild(nodes);
            document.getElementById("year-select").appendChild(node);
        }
    }

    function NowYear() {
        var date = new Date();
        var year = date.getFullYear();
        var value = checkValue();
        if (value > year) {
            console.log("所选日期还没到,还差" + (value - year) + "年");
        }
        else if (value < year) {
            console.log("所选日期过去了,已经过去了" + (year - value) + "年")
        }
        document.getElementById("result-wrapper").innerHTML = year + "年";
    }

    setInterval("NowYear()", 1000);
</script>
</body>
</html>